# ble_wlan_config
-------------------------------------------------------------------------------

## 说明

该示例构建了一个服务器端程序，可以接收，处理并反馈蓝牙客户端发过来的命令。并以此为基础，实现了一个通过该命令接口传送 Wi-Fi 网络参数的功能，解决了嵌入式设备设置 Wi-Fi 网络参数的难题。该示例程序需要调用 bt_smart_controller 框架。

### wlan配置服务

提供了设定Wi-Fi网络参数的功能。

| Handle | 类型 | 权限 | UUID | 注释 |
|:----:|:----:|:----:|:----:|:----:|
| 0x05 | 服务 |       | 0783B03E-8535-B5A0-7140-A304D2495CB7 | wlan配置服务 |
| 0x06 | 特性 | Write | 0783B03E-8535-B5A0-7140-A304D2495CBA | 配置指令写入 |
| 0x07 | 特性值 |     |                                      | 0x06特性的内容 |
| 0x08 | 特性描述 | Read | 2901                              | 0x6特性的描述|
| 0x09 | 特性 |   Notify | 0783B03E-8535-B5A0-7140-A304D2495CB8 | 配置指令应答 |
| 0x10 | 特性值 | | |     0x9特性内容 |
| 0x11 | 特性描述 | Read | 2901 | 0x09特性的描述 |


### 交互指令

| 指令  |         指令格式        |     说明     | 指令的应答 |
|:----:|:-------:|:----:|:----:|
| 0x01 | 0x01 + WIFI SSID + 0xCA | 设置网络名称 | 0x01 0xCB |
| 0x02 | 0x02 + WIFI KEY + 0XCA  | 设置网络秘钥 | 0x02 0xCB |
| 0x05 | 0x05 + 0xCA             | 开始连接     | 0x03 0xCB |
| 0x06 | 0x06 + 0XCA             | 扫描周围网络 | 见WIFI扫描返回结果 |
|      | 主动应答，无需指令        | 正在连接    | 0x0A 0xCB |
|      | 主动应答，无需指令        | 连接成功    | 0x0B 0xCB |
|      | 主动应答，无需指令        | 连接失败    | 0x0C 0xCB |
|      | 主动应答，无需指令        |  已断开    | 0x11 0xCB |
|      | 主动应答，无需指令        | 断开重连    | 0x22 0xCB |

> WIFI 扫描结果：0xEA ssid 0xEC strength 0xED security 0xEE ssid 0xEC strength 0xED security 0xEE
ssid 0xEC strength 0xED security0xEE ...... 0xEB

相关说明：

| 内容 | 代表意义 |
|:---:|:---------|
| 0xEA | 帧头 |
| 0xEB | 帧尾 |
| ssid | 名称 |
| strength | 信号强度 |
| security | 加密方式 |
| 0xEC | 分隔符 |
| 0xED | 分隔符 |
| 0xEE | 分隔符 |
